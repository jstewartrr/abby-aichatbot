version: 1.3.1
cache: true

interface:
  customName: "HiveMind Chat"
  privacyPolicy:
    externalUrl: "https://abbi-ai.com/privacy"
  termsOfService:
    externalUrl: "https://abbi-ai.com/terms"
  endpointsMenu: true
  modelSelect: true
  parameters: true
  presets: true
  sidePanel: true
  mcpServers:
    use: true
    create: true
    share: true

# MCP Server Configuration - Load Balanced Gateway
mcpServers:
  sovereign-mind-gateway:
    type: streamable-http
    url: "https://mcp.abbi-ai.com/mcp"
    timeout: 60000
    initTimeout: 30000
    serverInstructions: true

registration:
  socialLogins: []
  allowedDomains:
    - "middleground.com"
    - "abbi-ai.com"

rateLimits:
  fileUploads:
    ipMax: 100
    ipWindowInMinutes: 60
    userMax: 50
    userWindowInMinutes: 60

# Endpoint Configuration
endpoints:
  # Agents Configuration
  agents:
    disableBuilder: false
    capabilities:
      - "execute_code"
      - "file_search"
      - "web_search"
      - "artifacts"
      - "actions"
      - "context"
      - "tools"
      - "chain"
      - "ocr"

  # Built-in OpenAI (uses OPENAI_API_KEY env var)
  openAI:
    streamRate: 25
    titleModel: "gpt-4o-mini"
    models:
      default:
        - "gpt-4o"
        - "gpt-4o-mini"
        - "o1"
        - "o1-mini"
        - "o3-mini"
      fetch: false

  # Built-in Anthropic (uses ANTHROPIC_API_KEY env var)
  anthropic:
    streamRate: 25
    titleModel: "claude-3-5-haiku-20241022"
    models:
      default:
        - "claude-sonnet-4-20250514"
        - "claude-3-5-sonnet-20241022"
        - "claude-3-5-haiku-20241022"
        - "claude-3-opus-20240229"
      fetch: false

  # Built-in Google (uses GOOGLE_KEY env var)
  google:
    streamRate: 25
    titleModel: "gemini-1.5-flash"
    models:
      default:
        - "gemini-2.0-flash"
        - "gemini-2.0-flash-thinking-exp"
        - "gemini-1.5-pro"
        - "gemini-1.5-flash"
      fetch: false

  # AWS Bedrock (uses BEDROCK_AWS_* env vars)
  bedrock:
    streamRate: 35
    titleModel: "anthropic.claude-3-haiku-20240307-v1:0"
    availableRegions:
      - "us-east-1"
    models:
      default:
        - "anthropic.claude-sonnet-4-20250514-v1:0"
        - "anthropic.claude-3-5-sonnet-20241022-v2:0"
        - "anthropic.claude-3-5-haiku-20241022-v1:0"
        - "anthropic.claude-3-opus-20240229-v1:0"
        - "amazon.nova-pro-v1:0"
        - "amazon.nova-lite-v1:0"
      fetch: false

  # Azure OpenAI - requires explicit group config
  azureOpenAI:
    titleModel: "gpt-4o"
    groups:
      - group: "sovereign-mind"
        apiKey: "${AZURE_OPENAI_API_KEY}"
        instanceName: "sovereign-mind-openai"
        version: "2024-08-01-preview"
        models:
          gpt-4o:
            deploymentName: "gpt-4o"

  # Disable assistants
  assistants:
    disabled: true

  # Custom Endpoints - only for providers without built-in support
  custom:
    # Grok (xAI) - no built-in endpoint, must be custom
    - name: "Grok"
      apiKey: "${XAI_API_KEY}"
      baseURL: "https://api.x.ai/v1"
      models:
        default:
          - "grok-3"
          - "grok-3-fast"
          - "grok-2-1212"
        fetch: false
      titleConvo: true
      titleModel: "grok-3-fast"
      modelDisplayLabel: "Grok (xAI)"

# File Configuration
fileConfig:
  endpoints:
    openAI:
      fileLimit: 10
      fileSizeLimit: 512
      disabled: false
    anthropic:
      fileLimit: 10
      fileSizeLimit: 100
      disabled: false
    default:
      fileLimit: 5
      fileSizeLimit: 50
